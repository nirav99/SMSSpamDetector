apply plugin: 'java'

compileJava.options.encoding = 'UTF-8'

repositories {
  mavenCentral()
}

dependencies {
  compile 'com.google.code.gson:gson:2.2.4'
}

task featurefinder(type: Jar) {
  from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
  }
  manifest {
    attributes 'Main-Class': 'com.smsspamdetector.featurefinder.Main'
  }
  baseName = 'SMSSpamFeatureFinder'
  destinationDir = file("${rootDir}/jar")
 
  exclude('com/smsspamdetector/trainer/*')
  with jar
}

task trainer(type: Jar) {
  from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
  }
  manifest {
    attributes 'Main-Class': 'com.smsspamdetector.trainer.Trainer'
  }
  baseName = 'SMSSpamTrainer'
  destinationDir = file("${rootDir}/jar")
 
  exclude('com/smsspamdetector/featurefinder/*')
  with jar
}

/* Builds all the jar files for the project */
task all() << {
  println 'Building All JAR Files'
}

all.dependsOn 'featurefinder','trainer'